<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Intel Media Driver Document: mos_xe_bo_gem Struct Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Intel Media Driver Document<span id="projectnumber">&#160;24.2.6</span>
   </div>
   <div id="projectbrief">This document is for intel media driver which locate at https://github.com/intel/media-driver.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="../../d1/d25/structmos__xe__bo__gem-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">mos_xe_bo_gem Struct Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for mos_xe_bo_gem:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d95/structmos__xe__bo__gem__coll__graph.png" border="0" usemap="#amos__xe__bo__gem_coll__map" alt="Collaboration graph"/></div>
<map name="amos__xe__bo__gem_coll__map" id="amos__xe__bo__gem_coll__map">
<area shape="rect" title=" " alt="" coords="301,75,422,101"/>
<area shape="rect" href="../../db/d8b/structmos__linux__bo.html" title=" " alt="" coords="22,281,125,308"/>
<area shape="rect" href="../../d2/da7/structmos__bufmgr.html" title=" " alt="" coords="765,255,859,281"/>
<area shape="rect" href="../../d4/d75/struct___p_a_t_c_h_l_o_c_a_t_i_o_n_l_i_s_t.html" title="Structure to patch location list." alt="" coords="280,461,443,488"/>
<area shape="rect" href="../../d5/dd4/struct___m_o_s___s_p_e_c_i_f_i_c___r_e_s_o_u_r_c_e.html" title="Structure to Linux resource." alt="" coords="259,360,464,387"/>
<area shape="rect" href="../../dd/d1d/struct___c_m_d___b_u_f_f_e_r___b_o___p_o_o_l.html" title="Structure to buffer pool." alt="" coords="488,509,675,536"/>
<area shape="rect" href="../../d4/d36/structmos__linux__context.html" title=" " alt="" coords="1348,305,1479,332"/>
<area shape="rect" href="../../d2/da6/struct___m_o_s___o_s___c_o_n_t_e_x_t.html" title="Structure to OS context." alt="" coords="1071,437,1221,464"/>
<area shape="rect" href="../../d5/d30/struct___c_o_d_e_c_h_a_l___o_s___g_p_u___c_o_n_t_e_x_t.html" title="Structure to Gpu context." alt="" coords="699,400,925,427"/>
<area shape="rect" href="../../dd/de5/struct___a_l_l_o_c_a_t_i_o_n___l_i_s_t.html" title="Structure to Allocation List." alt="" coords="290,411,433,437"/>
<area shape="rect" href="../../d3/d7b/struct___c_o_m_m_a_n_d___b_u_f_f_e_r.html" title="Structure to command buffer." alt="" coords="283,616,439,643"/>
<area shape="rect" href="../../d2/de6/union___l_a_r_g_e___i_n_t_e_g_e_r.html" title=" " alt="" coords="5,645,141,672"/>
<area shape="rect" href="../../d3/dc8/class_media_feature_table.html" title=" " alt="" coords="746,513,878,540"/>
<area shape="rect" href="../../df/d79/class_media_wa_table.html" title=" " alt="" coords="758,564,866,591"/>
<area shape="rect" href="../../dc/d36/class_aux_table_mgr.html" title="Aux Table Manager." alt="" coords="763,615,861,641"/>
<area shape="rect" href="../../d7/d6e/struct_m_o_s___o_c_a___e_x_e_c___l_i_s_t___i_n_f_o.html" title=" " alt="" coords="262,309,461,336"/>
<area shape="rect" href="../../d2/d41/structatomic__t.html" title=" " alt="" coords="37,5,109,32"/>
<area shape="rect" href="../../d4/d9b/struct__drm_m_m_list_head.html" title=" " alt="" coords="11,109,135,136"/>
</map>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:adc83756217459ab337202011ad28abe4"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../db/d8b/structmos__linux__bo.html">mos_linux_bo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d1a/structmos__xe__bo__gem.html#adc83756217459ab337202011ad28abe4">bo</a></td></tr>
<tr class="separator:adc83756217459ab337202011ad28abe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e7b05a4012d46d6ce3b357a9630e03a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d41/structatomic__t.html">atomic_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d1a/structmos__xe__bo__gem.html#a6e7b05a4012d46d6ce3b357a9630e03a">ref_count</a></td></tr>
<tr class="separator:a6e7b05a4012d46d6ce3b357a9630e03a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa30b38022783916d2f975883235fa74d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d41/structatomic__t.html">atomic_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d1a/structmos__xe__bo__gem.html#aa30b38022783916d2f975883235fa74d">map_count</a></td></tr>
<tr class="separator:aa30b38022783916d2f975883235fa74d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94d479dc4c435a708e6e302b443b04ee"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d1a/structmos__xe__bo__gem.html#a94d479dc4c435a708e6e302b443b04ee">gem_handle</a></td></tr>
<tr class="separator:a94d479dc4c435a708e6e302b443b04ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d38cfafae8d0c70963d64812c9f3aaa"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d1a/structmos__xe__bo__gem.html#a4d38cfafae8d0c70963d64812c9f3aaa">name</a> [<a class="el" href="../../da/d41/mos__bufmgr__xe_8c.html#abdc276a3da6aba2279ae3e4a69731d9f">MAX_NAME_SIZE</a>]</td></tr>
<tr class="separator:a4d38cfafae8d0c70963d64812c9f3aaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e6774de6eed6fa1bdb268288054baf5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/dd9/libdrm__lists_8h.html#a17b8086d07d357a2f5b1e27ba37b32ef">drmMMListHead</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d1a/structmos__xe__bo__gem.html#a5e6774de6eed6fa1bdb268288054baf5">name_list</a></td></tr>
<tr class="separator:a5e6774de6eed6fa1bdb268288054baf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b1bbb8f22904ab258586a709704ed25"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d1a/structmos__xe__bo__gem.html#a5b1bbb8f22904ab258586a709704ed25">mem_virtual</a></td></tr>
<tr class="separator:a5b1bbb8f22904ab258586a709704ed25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5839e69c7294d824a82bf9e76f615760"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d1a/structmos__xe__bo__gem.html#a5839e69c7294d824a82bf9e76f615760">is_userptr</a></td></tr>
<tr class="separator:a5839e69c7294d824a82bf9e76f615760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b273d29761b75682724f6d0c4ea3073"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d1a/structmos__xe__bo__gem.html#a4b273d29761b75682724f6d0c4ea3073">mem_region</a></td></tr>
<tr class="separator:a4b273d29761b75682724f6d0c4ea3073"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc4a39216e61db23b6eafe8ae4a53f6f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d1a/structmos__xe__bo__gem.html#adc4a39216e61db23b6eafe8ae4a53f6f">is_imported</a></td></tr>
<tr class="separator:adc4a39216e61db23b6eafe8ae4a53f6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46904bb9a9372ebb003fdc420b43bbf3"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d1a/structmos__xe__bo__gem.html#a46904bb9a9372ebb003fdc420b43bbf3">cpu_caching</a></td></tr>
<tr class="separator:a46904bb9a9372ebb003fdc420b43bbf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad23bcd5f22d13dd1e2706a8f3fa512ad"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d1a/structmos__xe__bo__gem.html#ad23bcd5f22d13dd1e2706a8f3fa512ad">pat_index</a></td></tr>
<tr class="separator:ad23bcd5f22d13dd1e2706a8f3fa512ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a849c102c29f32081ea575713acbf760e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d1a/structmos__xe__bo__gem.html#a849c102c29f32081ea575713acbf760e">is_exported</a></td></tr>
<tr class="separator:a849c102c29f32081ea575713acbf760e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4251dbc774a7b32c9c60073fe0726c16"><td class="memItemLeft" align="right" valign="top">std::map&lt; uintptr_t, struct <a class="el" href="../../d9/dde/structmos__xe__exec__bo.html">mos_xe_exec_bo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d1a/structmos__xe__bo__gem.html#a4251dbc774a7b32c9c60073fe0726c16">exec_list</a></td></tr>
<tr class="separator:a4251dbc774a7b32c9c60073fe0726c16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0db2017dd287c716d6ae31d08ae693dc"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d1a/structmos__xe__bo__gem.html#a0db2017dd287c716d6ae31d08ae693dc">last_exec_write_exec_queue</a></td></tr>
<tr class="separator:a0db2017dd287c716d6ae31d08ae693dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d67bc35aaafa11a0ead700169a0e074"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d1a/structmos__xe__bo__gem.html#a0d67bc35aaafa11a0ead700169a0e074">last_exec_read_exec_queue</a></td></tr>
<tr class="separator:a0d67bc35aaafa11a0ead700169a0e074"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98e38fc0937f179d2fab2828e0170058"><td class="memItemLeft" align="right" valign="top">std::map&lt; uint32_t, struct <a class="el" href="../../d5/d96/structmos__xe__bo__dep.html">mos_xe_bo_dep</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d1a/structmos__xe__bo__gem.html#a98e38fc0937f179d2fab2828e0170058">read_deps</a></td></tr>
<tr class="separator:a98e38fc0937f179d2fab2828e0170058"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e313e4ed1aea48e3a2cf10979552d3d"><td class="memItemLeft" align="right" valign="top">std::map&lt; uint32_t, struct <a class="el" href="../../d5/d96/structmos__xe__bo__dep.html">mos_xe_bo_dep</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d1a/structmos__xe__bo__gem.html#a4e313e4ed1aea48e3a2cf10979552d3d">write_deps</a></td></tr>
<tr class="separator:a4e313e4ed1aea48e3a2cf10979552d3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html#l00239">239</a> of file <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html">mos_bufmgr_xe.c</a>.</p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="adc83756217459ab337202011ad28abe4" name="adc83756217459ab337202011ad28abe4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc83756217459ab337202011ad28abe4">&#9670;&nbsp;</a></span>bo</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../db/d8b/structmos__linux__bo.html">mos_linux_bo</a> mos_xe_bo_gem::bo</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html#l00245">245</a> of file <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html">mos_bufmgr_xe.c</a>.</p>

</div>
</div>
<a id="a46904bb9a9372ebb003fdc420b43bbf3" name="a46904bb9a9372ebb003fdc420b43bbf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46904bb9a9372ebb003fdc420b43bbf3">&#9670;&nbsp;</a></span>cpu_caching</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t mos_xe_bo_gem::cpu_caching</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >@cpu_caching: The CPU caching mode to select for this object. If mmaping the object the mode selected here will also be used.</p>
<p >Supported values:</p>
<p >DRM_XE_GEM_CPU_CACHING_WB: Allocate the pages with write-back caching. On iGPU this can't be used for scanout surfaces. Currently not allowed for objects placed in VRAM.</p>
<p >DRM_XE_GEM_CPU_CACHING_WC: Allocate the pages as write-combined. This is uncached. Scanout surfaces should likely use this. All objects that can be placed in VRAM must use this. </p>

<p class="definition">Definition at line <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html#l00317">317</a> of file <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html">mos_bufmgr_xe.c</a>.</p>

</div>
</div>
<a id="a4251dbc774a7b32c9c60073fe0726c16" name="a4251dbc774a7b32c9c60073fe0726c16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4251dbc774a7b32c9c60073fe0726c16">&#9670;&nbsp;</a></span>exec_list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;uintptr_t, struct <a class="el" href="../../d9/dde/structmos__xe__exec__bo.html">mos_xe_exec_bo</a>&gt; mos_xe_bo_gem::exec_list</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >For cmd bo, it has an exec bo list which saves all exec bo in it. Uplayer caller should alway update this list before exec submission and clear the list after exec submission. </p>

<p class="definition">Definition at line <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html#l00367">367</a> of file <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html">mos_bufmgr_xe.c</a>.</p>

</div>
</div>
<a id="a94d479dc4c435a708e6e302b443b04ee" name="a94d479dc4c435a708e6e302b443b04ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94d479dc4c435a708e6e302b443b04ee">&#9670;&nbsp;</a></span>gem_handle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t mos_xe_bo_gem::gem_handle</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Bo handle allocared from drm Note: conbine with bo.handle to use same one. </p>

<p class="definition">Definition at line <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html#l00261">261</a> of file <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html">mos_bufmgr_xe.c</a>.</p>

</div>
</div>
<a id="a849c102c29f32081ea575713acbf760e" name="a849c102c29f32081ea575713acbf760e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a849c102c29f32081ea575713acbf760e">&#9670;&nbsp;</a></span>is_exported</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mos_xe_bo_gem::is_exported</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Boolean of whether this buffer is exported to external </p>

<p class="definition">Definition at line <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html#l00361">361</a> of file <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html">mos_bufmgr_xe.c</a>.</p>

</div>
</div>
<a id="adc4a39216e61db23b6eafe8ae4a53f6f" name="adc4a39216e61db23b6eafe8ae4a53f6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc4a39216e61db23b6eafe8ae4a53f6f">&#9670;&nbsp;</a></span>is_imported</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mos_xe_bo_gem::is_imported</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >We should always get the syncobj handle from the bo handle by bellow 4 steps in each time:</p><ol type="1">
<li>get the prime_handle from bo.handle</li>
<li>get syncfile fd from prime_fd</li>
<li>get syncobj_handle from syncfile by</li>
<li>close prime_fd and syncfile fd.</li>
</ol>
<p >If umd wants external process to sync between them, umd should always import its batch syncobj handle into each external bo's dma sync buffer.</p>
<p >Boolean of whether this buffer is imported from external </p>

<p class="definition">Definition at line <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html#l00302">302</a> of file <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html">mos_bufmgr_xe.c</a>.</p>

</div>
</div>
<a id="a5839e69c7294d824a82bf9e76f615760" name="a5839e69c7294d824a82bf9e76f615760"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5839e69c7294d824a82bf9e76f615760">&#9670;&nbsp;</a></span>is_userptr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mos_xe_bo_gem::is_userptr</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Boolean of whether this buffer was allocated with userptr </p>

<p class="definition">Definition at line <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html#l00282">282</a> of file <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html">mos_bufmgr_xe.c</a>.</p>

</div>
</div>
<a id="a0d67bc35aaafa11a0ead700169a0e074" name="a0d67bc35aaafa11a0ead700169a0e074"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d67bc35aaafa11a0ead700169a0e074">&#9670;&nbsp;</a></span>last_exec_read_exec_queue</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t mos_xe_bo_gem::last_exec_read_exec_queue</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Save last dummy read exec_queue id. Init this field as INVALID_EXEC_QUEUE_ID at begining. </p>

<p class="definition">Definition at line <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html#l00380">380</a> of file <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html">mos_bufmgr_xe.c</a>.</p>

</div>
</div>
<a id="a0db2017dd287c716d6ae31d08ae693dc" name="a0db2017dd287c716d6ae31d08ae693dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0db2017dd287c716d6ae31d08ae693dc">&#9670;&nbsp;</a></span>last_exec_write_exec_queue</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t mos_xe_bo_gem::last_exec_write_exec_queue</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Save last dummy write exec_queue id. Init this field as INVALID_EXEC_QUEUE_ID at begining. </p>

<p class="definition">Definition at line <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html#l00374">374</a> of file <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html">mos_bufmgr_xe.c</a>.</p>

</div>
</div>
<a id="aa30b38022783916d2f975883235fa74d" name="aa30b38022783916d2f975883235fa74d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa30b38022783916d2f975883235fa74d">&#9670;&nbsp;</a></span>map_count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d41/structatomic__t.html">atomic_t</a> mos_xe_bo_gem::map_count</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Map count when map bo is called </p>

<p class="definition">Definition at line <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html#l00254">254</a> of file <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html">mos_bufmgr_xe.c</a>.</p>

</div>
</div>
<a id="a4b273d29761b75682724f6d0c4ea3073" name="a4b273d29761b75682724f6d0c4ea3073"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b273d29761b75682724f6d0c4ea3073">&#9670;&nbsp;</a></span>mem_region</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mos_xe_bo_gem::mem_region</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Memory region on created the surfaces for local/system memory; This field only indicates to memory region type, it not memory region instance. </p>

<p class="definition">Definition at line <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html#l00288">288</a> of file <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html">mos_bufmgr_xe.c</a>.</p>

</div>
</div>
<a id="a5b1bbb8f22904ab258586a709704ed25" name="a5b1bbb8f22904ab258586a709704ed25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b1bbb8f22904ab258586a709704ed25">&#9670;&nbsp;</a></span>mem_virtual</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* mos_xe_bo_gem::mem_virtual</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Mapped address for the buffer, saved across map/unmap cycles </p>

<p class="definition">Definition at line <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html#l00277">277</a> of file <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html">mos_bufmgr_xe.c</a>.</p>

</div>
</div>
<a id="a4d38cfafae8d0c70963d64812c9f3aaa" name="a4d38cfafae8d0c70963d64812c9f3aaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d38cfafae8d0c70963d64812c9f3aaa">&#9670;&nbsp;</a></span>name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char mos_xe_bo_gem::name[<a class="el" href="../../da/d41/mos__bufmgr__xe_8c.html#abdc276a3da6aba2279ae3e4a69731d9f">MAX_NAME_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Save bo name, this is for debug usage; Suggest giving bo name when allocating bo. </p>

<p class="definition">Definition at line <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html#l00266">266</a> of file <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html">mos_bufmgr_xe.c</a>.</p>

</div>
</div>
<a id="a5e6774de6eed6fa1bdb268288054baf5" name="a5e6774de6eed6fa1bdb268288054baf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e6774de6eed6fa1bdb268288054baf5">&#9670;&nbsp;</a></span>name_list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/dd9/libdrm__lists_8h.html#a17b8086d07d357a2f5b1e27ba37b32ef">drmMMListHead</a> mos_xe_bo_gem::name_list</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >List contains prime fd'd objects </p>

<p class="definition">Definition at line <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html#l00272">272</a> of file <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html">mos_bufmgr_xe.c</a>.</p>

</div>
</div>
<a id="ad23bcd5f22d13dd1e2706a8f3fa512ad" name="ad23bcd5f22d13dd1e2706a8f3fa512ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad23bcd5f22d13dd1e2706a8f3fa512ad">&#9670;&nbsp;</a></span>pat_index</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t mos_xe_bo_gem::pat_index</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >@pat_index: The platform defined @pat_index to use for this mapping. The index basically maps to some predefined memory attributes, including things like caching, coherency, compression etc. The exact meaning of the pat_index is platform specific. When the KMD sets up the binding the index here is encoded into the ppGTT PTE.</p>
<p >For coherency the @pat_index needs to be at least 1way coherent when <a class="el" href="../../db/dae/structdrm__xe__gem__create.html#a0b75e471d05b2c8b4c71b52c386090d5">drm_xe_gem_create.cpu_caching</a> is DRM_XE_GEM_CPU_CACHING_WB. The KMD will extract the coherency mode from the @pat_index and reject if there is a mismatch (see note below for pre-MTL platforms).</p>
<p >Note: On pre-MTL platforms there is only a caching mode and no explicit coherency mode, but on such hardware there is always a shared-LLC (or is dgpu) so all GT memory accesses are coherent with CPU caches even with the caching mode set as uncached. It's only the display engine that is incoherent (on dgpu it must be in VRAM which is always mapped as WC on the CPU). However to keep the uapi somewhat consistent with newer platforms the KMD groups the different cache levels into the following coherency buckets on all pre-MTL platforms:</p>
<p >ppGTT UC -&gt; COH_NONE ppGTT WC -&gt; COH_NONE ppGTT WT -&gt; COH_NONE ppGTT WB -&gt; COH_AT_LEAST_1WAY</p>
<p >In practice UC/WC/WT should only ever used for scanout surfaces on such platforms (or perhaps in general for dma-buf if shared with another device) since it is only the display engine that is actually incoherent. Everything else should typically use WB given that we have a shared-LLC. On MTL+ this completely changes and the HW defines the coherency mode as part of the @pat_index, where incoherent GT access is possible.</p>
<p >Note: For userptr and externally imported dma-buf the kernel expects either 1WAY or 2WAY for the @pat_index. </p>

<p class="definition">Definition at line <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html#l00356">356</a> of file <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html">mos_bufmgr_xe.c</a>.</p>

</div>
</div>
<a id="a98e38fc0937f179d2fab2828e0170058" name="a98e38fc0937f179d2fab2828e0170058"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98e38fc0937f179d2fab2828e0170058">&#9670;&nbsp;</a></span>read_deps</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;uint32_t, struct <a class="el" href="../../d5/d96/structmos__xe__bo__dep.html">mos_xe_bo_dep</a>&gt; mos_xe_bo_gem::read_deps</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Read dependents, pair of dummy EXEC_QUEUE_ID and <a class="el" href="../../d5/d96/structmos__xe__bo__dep.html">mos_xe_bo_dep</a> This map saves read deps of this bo on all exec exec_queue; Exec will check opration flags to get the dep from the map to add into exec sync array and updated the map after exec. Refer to exec call to get more details. </p>

<p class="definition">Definition at line <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html#l00388">388</a> of file <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html">mos_bufmgr_xe.c</a>.</p>

</div>
</div>
<a id="a6e7b05a4012d46d6ce3b357a9630e03a" name="a6e7b05a4012d46d6ce3b357a9630e03a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e7b05a4012d46d6ce3b357a9630e03a">&#9670;&nbsp;</a></span>ref_count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d41/structatomic__t.html">atomic_t</a> mos_xe_bo_gem::ref_count</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Reference count </p>

<p class="definition">Definition at line <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html#l00250">250</a> of file <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html">mos_bufmgr_xe.c</a>.</p>

</div>
</div>
<a id="a4e313e4ed1aea48e3a2cf10979552d3d" name="a4e313e4ed1aea48e3a2cf10979552d3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e313e4ed1aea48e3a2cf10979552d3d">&#9670;&nbsp;</a></span>write_deps</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;uint32_t, struct <a class="el" href="../../d5/d96/structmos__xe__bo__dep.html">mos_xe_bo_dep</a>&gt; mos_xe_bo_gem::write_deps</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Write dependents, pair of dummy EXEC_QUEUE_ID and <a class="el" href="../../d5/d96/structmos__xe__bo__dep.html">mos_xe_bo_dep</a> This map saves write deps of this bo on all exec exec_queue; Exec will check opration flags to get the dep from the map to add into exec sync array and updated the map after exec. Refer to exec call to get more details. </p>

<p class="definition">Definition at line <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html#l00396">396</a> of file <a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html">mos_bufmgr_xe.c</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>C:/Users/xiaoganx/Project/media-driver/media_softlet/linux/common/os/xe/<a class="el" href="../../da/d41/mos__bufmgr__xe_8c_source.html">mos_bufmgr_xe.c</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
