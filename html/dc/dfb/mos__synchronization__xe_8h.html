<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Intel Media Driver Document: C:/Users/xiaoganx/Project/media-driver/media_softlet/linux/common/os/xe/include/mos_synchronization_xe.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Intel Media Driver Document<span id="projectnumber">&#160;24.2.6</span>
   </div>
   <div id="projectbrief">This document is for intel media driver which locate at https://github.com/intel/media-driver.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_ffd1f789ec7bd0a45fc6ad92579c5070.html">Project</a></li><li class="navelem"><a class="el" href="../../dir_9f344d85c56218b4cc4cd630467c6da2.html">media-driver</a></li><li class="navelem"><a class="el" href="../../dir_3ef67f0b9ee823d3d90cc7d94262597a.html">media_softlet</a></li><li class="navelem"><a class="el" href="../../dir_71246d5d96231457489c69f5487500a4.html">linux</a></li><li class="navelem"><a class="el" href="../../dir_25d126ac614065785eda72fb9e51eb53.html">common</a></li><li class="navelem"><a class="el" href="../../dir_c20521ec05f2eff123adc159e1f9542f.html">os</a></li><li class="navelem"><a class="el" href="../../dir_d34aaddd582526ff6d62468cb62007c8.html">xe</a></li><li class="navelem"><a class="el" href="../../dir_9a6f76482f865a329049a2f1a9a9b1eb.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">mos_synchronization_xe.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &lt;queue&gt;</code><br />
<code>#include &lt;list&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d0e/xe__drm_8h_source.html">xe_drm.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for mos_synchronization_xe.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d4f/mos__synchronization__xe_8h__incl.png" border="0" usemap="#a_c_1_2_users_2xiaoganx_2_project_2media-driver_2media__softlet_2linux_2common_2os_2xe_2include_2mos__synchronization__xe_8h" alt=""/></div>
<map name="a_c_1_2_users_2xiaoganx_2_project_2media-driver_2media__softlet_2linux_2common_2os_2xe_2include_2mos__synchronization__xe_8h" id="a_c_1_2_users_2xiaoganx_2_project_2media-driver_2media__softlet_2linux_2common_2os_2xe_2include_2mos__synchronization__xe_8h">
<area shape="rect" title=" " alt="" coords="75,5,263,76"/>
<area shape="rect" title=" " alt="" coords="30,273,95,300"/>
<area shape="rect" title=" " alt="" coords="28,124,84,151"/>
<area shape="rect" title=" " alt="" coords="108,124,155,151"/>
<area shape="rect" title=" " alt="" coords="179,124,236,151"/>
<area shape="rect" title=" " alt="" coords="260,124,299,151"/>
<area shape="rect" href="../../d8/d0e/xe__drm_8h.html" title=" " alt="" coords="323,124,399,151"/>
<area shape="rect" href="../../da/d68/drm_8h.html" title=" " alt="" coords="315,199,370,225"/>
<area shape="rect" title=" " alt="" coords="155,273,255,300"/>
<area shape="rect" title=" " alt="" coords="280,273,370,300"/>
<area shape="rect" href="../../d6/d9b/drm__mode_8h.html" title=" " alt="" coords="395,273,490,300"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../d5/d78/mos__synchronization__xe_8h__dep__incl.png" border="0" usemap="#a_c_1_2_users_2xiaoganx_2_project_2media-driver_2media__softlet_2linux_2common_2os_2xe_2include_2mos__synchronization__xe_8hdep" alt=""/></div>
<map name="a_c_1_2_users_2xiaoganx_2_project_2media-driver_2media__softlet_2linux_2common_2os_2xe_2include_2mos__synchronization__xe_8hdep" id="a_c_1_2_users_2xiaoganx_2_project_2media-driver_2media__softlet_2linux_2common_2os_2xe_2include_2mos__synchronization__xe_8hdep">
<area shape="rect" title=" " alt="" coords="187,5,375,76"/>
<area shape="rect" href="../../da/d41/mos__bufmgr__xe_8c.html" title=" " alt="" coords="5,124,256,180"/>
<area shape="rect" href="../../db/dec/mos__synchronization__xe_8c.html" title=" " alt="" coords="281,124,583,180"/>
</map>
</div>
</div>
<p><a href="../../dc/dfb/mos__synchronization__xe_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d0f/structmos__xe__dep.html">mos_xe_dep</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d96/structmos__xe__bo__dep.html">mos_xe_bo_dep</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aeeed781dd7be3df4bd02270772bc5add"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfb/mos__synchronization__xe_8h.html#aeeed781dd7be3df4bd02270772bc5add">mos_sync_syncobj_create</a> (int <a class="el" href="../../d4/d9f/xf86drm__mock_8c.html#a6f8059414f0228f0256115e024eeed4b">fd</a>, uint32_t <a class="el" href="../../d8/df7/i915__drm__prelim_8h.html#a04a0bd666e371f3fab92b8d0ef5dbdb0">flags</a>)</td></tr>
<tr class="separator:aeeed781dd7be3df4bd02270772bc5add"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d2a7b34502e93b8634843b9fd07eac9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfb/mos__synchronization__xe_8h.html#a4d2a7b34502e93b8634843b9fd07eac9">mos_sync_syncobj_destroy</a> (int <a class="el" href="../../d4/d9f/xf86drm__mock_8c.html#a6f8059414f0228f0256115e024eeed4b">fd</a>, uint32_t <a class="el" href="../../d8/df7/i915__drm__prelim_8h.html#a4cb10971641fded3e45362915051c8ef">handle</a>)</td></tr>
<tr class="separator:a4d2a7b34502e93b8634843b9fd07eac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a182421162e8e592b00edce68dd18544e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfb/mos__synchronization__xe_8h.html#a182421162e8e592b00edce68dd18544e">mos_sync_syncobj_reset</a> (int <a class="el" href="../../d4/d9f/xf86drm__mock_8c.html#a6f8059414f0228f0256115e024eeed4b">fd</a>, uint32_t *handles, uint32_t count)</td></tr>
<tr class="separator:a182421162e8e592b00edce68dd18544e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2160aefd0aa60cc187d2b2d40620c1a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfb/mos__synchronization__xe_8h.html#ab2160aefd0aa60cc187d2b2d40620c1a">mos_sync_syncobj_wait_err</a> (int <a class="el" href="../../d4/d9f/xf86drm__mock_8c.html#a6f8059414f0228f0256115e024eeed4b">fd</a>, uint32_t *handles, uint32_t count, int64_t abs_timeout_nsec, uint32_t <a class="el" href="../../d8/df7/i915__drm__prelim_8h.html#a04a0bd666e371f3fab92b8d0ef5dbdb0">flags</a>, uint32_t *first_signaled)</td></tr>
<tr class="separator:ab2160aefd0aa60cc187d2b2d40620c1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a778db10ef4a81d51890460e636b2edd2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfb/mos__synchronization__xe_8h.html#a778db10ef4a81d51890460e636b2edd2">mos_sync_syncobj_timeline_wait</a> (int <a class="el" href="../../d4/d9f/xf86drm__mock_8c.html#a6f8059414f0228f0256115e024eeed4b">fd</a>, uint32_t *handles, uint64_t *points, unsigned num_handles, int64_t timeout_nsec, unsigned <a class="el" href="../../d8/df7/i915__drm__prelim_8h.html#a04a0bd666e371f3fab92b8d0ef5dbdb0">flags</a>, uint32_t *first_signaled)</td></tr>
<tr class="separator:a778db10ef4a81d51890460e636b2edd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a138d413c33a016c48367e08ac50e1bd3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfb/mos__synchronization__xe_8h.html#a138d413c33a016c48367e08ac50e1bd3">mos_sync_syncobj_handle_to_syncfile_fd</a> (int <a class="el" href="../../d4/d9f/xf86drm__mock_8c.html#a6f8059414f0228f0256115e024eeed4b">fd</a>, int syncobj_handle)</td></tr>
<tr class="separator:a138d413c33a016c48367e08ac50e1bd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a239cd4ef01037d98441d3324dc8a8f6e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfb/mos__synchronization__xe_8h.html#a239cd4ef01037d98441d3324dc8a8f6e">mos_sync_import_syncfile_to_external_bo</a> (int <a class="el" href="../../d4/d9f/xf86drm__mock_8c.html#a6f8059414f0228f0256115e024eeed4b">fd</a>, int prime_fd, int syncfile_fd)</td></tr>
<tr class="separator:a239cd4ef01037d98441d3324dc8a8f6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7159533b422505e96a2fcd5c4deb25cf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfb/mos__synchronization__xe_8h.html#a7159533b422505e96a2fcd5c4deb25cf">mos_sync_syncobj_timeline_to_binary</a> (int <a class="el" href="../../d4/d9f/xf86drm__mock_8c.html#a6f8059414f0228f0256115e024eeed4b">fd</a>, uint32_t binary_handle, uint32_t timeline_handle, uint64_t point, uint32_t <a class="el" href="../../d8/df7/i915__drm__prelim_8h.html#a04a0bd666e371f3fab92b8d0ef5dbdb0">flags</a>)</td></tr>
<tr class="separator:a7159533b422505e96a2fcd5c4deb25cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60703c42688a34aa57d0926453e38532"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfb/mos__synchronization__xe_8h.html#a60703c42688a34aa57d0926453e38532">mos_sync_update_timeline_dep</a> (struct <a class="el" href="../../d4/d0f/structmos__xe__dep.html">mos_xe_dep</a> *dep)</td></tr>
<tr class="separator:a60703c42688a34aa57d0926453e38532"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca6973eef347f11f508f6beb51ddb555"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfb/mos__synchronization__xe_8h.html#aca6973eef347f11f508f6beb51ddb555">mos_sync_update_exec_syncs_from_timeline_deps</a> (uint32_t curr_engine, uint32_t lst_write_engine, uint32_t <a class="el" href="../../d8/df7/i915__drm__prelim_8h.html#a04a0bd666e371f3fab92b8d0ef5dbdb0">flags</a>, std::set&lt; uint32_t &gt; &amp;engine_ids, std::map&lt; uint32_t, struct <a class="el" href="../../d5/d96/structmos__xe__bo__dep.html">mos_xe_bo_dep</a> &gt; &amp;read_deps, std::map&lt; uint32_t, struct <a class="el" href="../../d5/d96/structmos__xe__bo__dep.html">mos_xe_bo_dep</a> &gt; &amp;write_deps, std::vector&lt; <a class="el" href="../../d3/dc2/structdrm__xe__sync.html">drm_xe_sync</a> &gt; &amp;syncs)</td></tr>
<tr class="separator:aca6973eef347f11f508f6beb51ddb555"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50e911ed6d5366a502bce56fd06d9da2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfb/mos__synchronization__xe_8h.html#a50e911ed6d5366a502bce56fd06d9da2">mos_sync_update_exec_syncs_from_handle</a> (int <a class="el" href="../../d4/d9f/xf86drm__mock_8c.html#a6f8059414f0228f0256115e024eeed4b">fd</a>, uint32_t bo_handle, uint32_t <a class="el" href="../../d8/df7/i915__drm__prelim_8h.html#a04a0bd666e371f3fab92b8d0ef5dbdb0">flags</a>, std::vector&lt; struct <a class="el" href="../../d3/dc2/structdrm__xe__sync.html">drm_xe_sync</a> &gt; &amp;syncs, int &amp;out_prime_fd)</td></tr>
<tr class="separator:a50e911ed6d5366a502bce56fd06d9da2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a474d6b87eb2345ea0ba6e244e06ba78e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d0f/structmos__xe__dep.html">mos_xe_dep</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfb/mos__synchronization__xe_8h.html#a474d6b87eb2345ea0ba6e244e06ba78e">mos_sync_create_timeline_dep</a> (int <a class="el" href="../../d4/d9f/xf86drm__mock_8c.html#a6f8059414f0228f0256115e024eeed4b">fd</a>)</td></tr>
<tr class="separator:a474d6b87eb2345ea0ba6e244e06ba78e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8bbcb195b7fa5d53a88250d3bed5145"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfb/mos__synchronization__xe_8h.html#af8bbcb195b7fa5d53a88250d3bed5145">mos_sync_update_exec_syncs_from_timeline_dep</a> (int <a class="el" href="../../d4/d9f/xf86drm__mock_8c.html#a6f8059414f0228f0256115e024eeed4b">fd</a>, struct <a class="el" href="../../d4/d0f/structmos__xe__dep.html">mos_xe_dep</a> *dep, std::vector&lt; struct <a class="el" href="../../d3/dc2/structdrm__xe__sync.html">drm_xe_sync</a> &gt; &amp;syncs)</td></tr>
<tr class="separator:af8bbcb195b7fa5d53a88250d3bed5145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f2c87ac4471a3c27c8cb1d6bee085ae"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfb/mos__synchronization__xe_8h.html#a6f2c87ac4471a3c27c8cb1d6bee085ae">mos_sync_update_bo_deps</a> (uint32_t curr_engine, uint32_t <a class="el" href="../../d8/df7/i915__drm__prelim_8h.html#a04a0bd666e371f3fab92b8d0ef5dbdb0">flags</a>, <a class="el" href="../../d4/d0f/structmos__xe__dep.html">mos_xe_dep</a> *dep, std::map&lt; uint32_t, struct <a class="el" href="../../d5/d96/structmos__xe__bo__dep.html">mos_xe_bo_dep</a> &gt; &amp;read_deps, std::map&lt; uint32_t, struct <a class="el" href="../../d5/d96/structmos__xe__bo__dep.html">mos_xe_bo_dep</a> &gt; &amp;write_deps)</td></tr>
<tr class="separator:a6f2c87ac4471a3c27c8cb1d6bee085ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf93a66084687bf656120b9065ee8291"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfb/mos__synchronization__xe_8h.html#adf93a66084687bf656120b9065ee8291">mos_sync_get_bo_wait_timeline_deps</a> (std::set&lt; uint32_t &gt; &amp;engine_ids, std::map&lt; uint32_t, struct <a class="el" href="../../d5/d96/structmos__xe__bo__dep.html">mos_xe_bo_dep</a> &gt; &amp;read_deps, std::map&lt; uint32_t, struct <a class="el" href="../../d5/d96/structmos__xe__bo__dep.html">mos_xe_bo_dep</a> &gt; &amp;write_deps, std::map&lt; uint32_t, uint64_t &gt; &amp;max_timeline_data, uint32_t lst_write_engine, uint32_t rw_flags)</td></tr>
<tr class="separator:adf93a66084687bf656120b9065ee8291"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b4eacafe3849675d4f1109c5f8e0e46"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfb/mos__synchronization__xe_8h.html#a8b4eacafe3849675d4f1109c5f8e0e46">mos_sync_destroy_timeline_dep</a> (int <a class="el" href="../../d4/d9f/xf86drm__mock_8c.html#a6f8059414f0228f0256115e024eeed4b">fd</a>, struct <a class="el" href="../../d4/d0f/structmos__xe__dep.html">mos_xe_dep</a> *dep)</td></tr>
<tr class="separator:a8b4eacafe3849675d4f1109c5f8e0e46"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a474d6b87eb2345ea0ba6e244e06ba78e" name="a474d6b87eb2345ea0ba6e244e06ba78e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a474d6b87eb2345ea0ba6e244e06ba78e">&#9670;&nbsp;</a></span>mos_sync_create_timeline_dep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d0f/structmos__xe__dep.html">mos_xe_dep</a> * mos_sync_create_timeline_dep </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Initial a new timeline dep object.</p>
<p >@fd indicates to opened device;</p>
<dl class="section return"><dt>Returns</dt><dd>indicates to a new timeline deo object </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html#l00435">435</a> of file <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html">mos_synchronization_xe.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dfb/mos__synchronization__xe_8h_a474d6b87eb2345ea0ba6e244e06ba78e_cgraph.png" border="0" usemap="#adc/dfb/mos__synchronization__xe_8h_a474d6b87eb2345ea0ba6e244e06ba78e_cgraph" alt=""/></div>
<map name="adc/dfb/mos__synchronization__xe_8h_a474d6b87eb2345ea0ba6e244e06ba78e_cgraph" id="adc/dfb/mos__synchronization__xe_8h_a474d6b87eb2345ea0ba6e244e06ba78e_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,211,32"/>
<area shape="rect" href="../../db/dec/mos__synchronization__xe_8c.html#aeeed781dd7be3df4bd02270772bc5add" title=" " alt="" coords="259,5,436,32"/>
<area shape="rect" href="../../d4/d9f/xf86drm__mock_8c.html#aba799e2473539a47ddb2c325962c544c" title=" " alt="" coords="484,5,552,32"/>
<area shape="rect" href="../../dc/dfc/xf86drm_8c.html#ac49c32891ff1d2f2a7cbb33d520d9658" title=" " alt="" coords="600,5,693,32"/>
</map>
</div>

</div>
</div>
<a id="a8b4eacafe3849675d4f1109c5f8e0e46" name="a8b4eacafe3849675d4f1109c5f8e0e46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b4eacafe3849675d4f1109c5f8e0e46">&#9670;&nbsp;</a></span>mos_sync_destroy_timeline_dep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mos_sync_destroy_timeline_dep </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d0f/structmos__xe__dep.html">mos_xe_dep</a> *&#160;</td>
          <td class="paramname"><em>dep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Destroy the syncobj and timeline dep object</p>
<p >@fd indicates to opened device @dep indicates to the timeline dep object in its context </p>

<p class="definition">Definition at line <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html#l00477">477</a> of file <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html">mos_synchronization_xe.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dfb/mos__synchronization__xe_8h_a8b4eacafe3849675d4f1109c5f8e0e46_cgraph.png" border="0" usemap="#adc/dfb/mos__synchronization__xe_8h_a8b4eacafe3849675d4f1109c5f8e0e46_cgraph" alt=""/></div>
<map name="adc/dfb/mos__synchronization__xe_8h_a8b4eacafe3849675d4f1109c5f8e0e46_cgraph" id="adc/dfb/mos__synchronization__xe_8h_a8b4eacafe3849675d4f1109c5f8e0e46_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,217,32"/>
<area shape="rect" href="../../db/dec/mos__synchronization__xe_8c.html#a4d2a7b34502e93b8634843b9fd07eac9" title=" " alt="" coords="265,5,449,32"/>
<area shape="rect" href="../../d4/d9f/xf86drm__mock_8c.html#aba799e2473539a47ddb2c325962c544c" title=" " alt="" coords="497,5,565,32"/>
<area shape="rect" href="../../dc/dfc/xf86drm_8c.html#ac49c32891ff1d2f2a7cbb33d520d9658" title=" " alt="" coords="613,5,707,32"/>
</map>
</div>

</div>
</div>
<a id="adf93a66084687bf656120b9065ee8291" name="adf93a66084687bf656120b9065ee8291"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf93a66084687bf656120b9065ee8291">&#9670;&nbsp;</a></span>mos_sync_get_bo_wait_timeline_deps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mos_sync_get_bo_wait_timeline_deps </td>
          <td>(</td>
          <td class="paramtype">std::set&lt; uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>engine_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; uint32_t, struct <a class="el" href="../../d5/d96/structmos__xe__bo__dep.html">mos_xe_bo_dep</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>read_deps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; uint32_t, struct <a class="el" href="../../d5/d96/structmos__xe__bo__dep.html">mos_xe_bo_dep</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>write_deps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; uint32_t, uint64_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>max_timeline_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>lst_write_engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>rw_flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get busy timeline deps from read and write deps map for bo wait.</p>
<p >@engine_ids indicates to valid engine IDs; @read_deps indicates to read deps on previous exec; @write_deps indicates to write deps on previous exec; @max_timeline_data max exec timeline value on each context for this bo resource; @lst_write_engine indicates to last exec engine id for writing; @rw_flags indicates to read/write operation: if rw_flags &amp; EXEC_OBJECT_WRITE_XE, means bo write. Otherwise it means bo read. </p>

<p class="definition">Definition at line <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html#l00654">654</a> of file <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html">mos_synchronization_xe.c</a>.</p>

</div>
</div>
<a id="a239cd4ef01037d98441d3324dc8a8f6e" name="a239cd4ef01037d98441d3324dc8a8f6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a239cd4ef01037d98441d3324dc8a8f6e">&#9670;&nbsp;</a></span>mos_sync_import_syncfile_to_external_bo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mos_sync_import_syncfile_to_external_bo </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>prime_fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>syncfile_fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Import the sync file fd into the DMA buffer of external bo.</p>
<p >@fd indicates to opened device; @prime_fd indicates to the prime fd of the external bo; @syncfile_fd indicates to syncfile fd got from fence out syncobj handle umd.</p>
<p >Note: if umd wants to export its fence out for external process to sync, umd should always import its batch syncobj into all external bo dma sync buffer. </p>

<p class="definition">Definition at line <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html#l00376">376</a> of file <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html">mos_synchronization_xe.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dfb/mos__synchronization__xe_8h_a239cd4ef01037d98441d3324dc8a8f6e_cgraph.png" border="0" usemap="#adc/dfb/mos__synchronization__xe_8h_a239cd4ef01037d98441d3324dc8a8f6e_cgraph" alt=""/></div>
<map name="adc/dfb/mos__synchronization__xe_8h_a239cd4ef01037d98441d3324dc8a8f6e_cgraph" id="adc/dfb/mos__synchronization__xe_8h_a239cd4ef01037d98441d3324dc8a8f6e_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,181,47"/>
<area shape="rect" href="../../d4/d9f/xf86drm__mock_8c.html#aba799e2473539a47ddb2c325962c544c" title=" " alt="" coords="229,13,297,39"/>
<area shape="rect" href="../../dc/dfc/xf86drm_8c.html#ac49c32891ff1d2f2a7cbb33d520d9658" title=" " alt="" coords="345,13,439,39"/>
</map>
</div>

</div>
</div>
<a id="aeeed781dd7be3df4bd02270772bc5add" name="aeeed781dd7be3df4bd02270772bc5add"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeed781dd7be3df4bd02270772bc5add">&#9670;&nbsp;</a></span>mos_sync_syncobj_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mos_sync_syncobj_create </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >@flags indicates to create opration: If flags=0(recommended), it will create a syncobj with not signaled. If flags=DRM_SYNCOBJ_CREATE_SIGNALED, it will create a syncobj with signaled state. So first exec with this syncobj will not block by waiting it. If want to wait this syncobj, and it must use DRM_IOCTL_SYNCOBJ_RESET to reset it as not signaled. After the syncobj is signaled by any process, we must use DRM_IOCTL_SYNCOBJ_RESET to reset it as not signaled state, otherwise next exec will ignore this syncobj in exec sync array. </p>

<p class="definition">Definition at line <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html#l00047">47</a> of file <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html">mos_synchronization_xe.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dfb/mos__synchronization__xe_8h_aeeed781dd7be3df4bd02270772bc5add_cgraph.png" border="0" usemap="#adc/dfb/mos__synchronization__xe_8h_aeeed781dd7be3df4bd02270772bc5add_cgraph" alt=""/></div>
<map name="adc/dfb/mos__synchronization__xe_8h_aeeed781dd7be3df4bd02270772bc5add_cgraph" id="adc/dfb/mos__synchronization__xe_8h_aeeed781dd7be3df4bd02270772bc5add_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,183,32"/>
<area shape="rect" href="../../d4/d9f/xf86drm__mock_8c.html#aba799e2473539a47ddb2c325962c544c" title=" " alt="" coords="231,5,299,32"/>
<area shape="rect" href="../../dc/dfc/xf86drm_8c.html#ac49c32891ff1d2f2a7cbb33d520d9658" title=" " alt="" coords="347,5,440,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dfb/mos__synchronization__xe_8h_aeeed781dd7be3df4bd02270772bc5add_icgraph.png" border="0" usemap="#adc/dfb/mos__synchronization__xe_8h_aeeed781dd7be3df4bd02270772bc5add_icgraph" alt=""/></div>
<map name="adc/dfb/mos__synchronization__xe_8h_aeeed781dd7be3df4bd02270772bc5add_icgraph" id="adc/dfb/mos__synchronization__xe_8h_aeeed781dd7be3df4bd02270772bc5add_icgraph">
<area shape="rect" title=" " alt="" coords="696,35,873,61"/>
<area shape="rect" href="../../db/dec/mos__synchronization__xe_8c.html#a474d6b87eb2345ea0ba6e244e06ba78e" title=" " alt="" coords="443,5,648,32"/>
<area shape="rect" href="../../db/dec/mos__synchronization__xe_8c.html#a452fe866609a3d0d6ab86b26b6ce50d6" title=" " alt="" coords="470,57,621,98"/>
<area shape="rect" href="../../db/dec/mos__synchronization__xe_8c.html#a8a4e231c062845c325c8877c9a6aca73" title=" " alt="" coords="216,57,395,98"/>
<area shape="rect" href="../../db/dec/mos__synchronization__xe_8c.html#a50e911ed6d5366a502bce56fd06d9da2" title=" " alt="" coords="5,57,168,98"/>
</map>
</div>

</div>
</div>
<a id="a4d2a7b34502e93b8634843b9fd07eac9" name="a4d2a7b34502e93b8634843b9fd07eac9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d2a7b34502e93b8634843b9fd07eac9">&#9670;&nbsp;</a></span>mos_sync_syncobj_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mos_sync_syncobj_destroy </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Syncobj handle that needs to destroy.</p>
<p >Note: kmd will wait the syncobj signaled when umd tries to destroy it. So, there is no need to wait it in umd normally. </p>

<p class="definition">Definition at line <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html#l00065">65</a> of file <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html">mos_synchronization_xe.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dfb/mos__synchronization__xe_8h_a4d2a7b34502e93b8634843b9fd07eac9_cgraph.png" border="0" usemap="#adc/dfb/mos__synchronization__xe_8h_a4d2a7b34502e93b8634843b9fd07eac9_cgraph" alt=""/></div>
<map name="adc/dfb/mos__synchronization__xe_8h_a4d2a7b34502e93b8634843b9fd07eac9_cgraph" id="adc/dfb/mos__synchronization__xe_8h_a4d2a7b34502e93b8634843b9fd07eac9_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,189,32"/>
<area shape="rect" href="../../d4/d9f/xf86drm__mock_8c.html#aba799e2473539a47ddb2c325962c544c" title=" " alt="" coords="237,5,305,32"/>
<area shape="rect" href="../../dc/dfc/xf86drm_8c.html#ac49c32891ff1d2f2a7cbb33d520d9658" title=" " alt="" coords="353,5,447,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dfb/mos__synchronization__xe_8h_a4d2a7b34502e93b8634843b9fd07eac9_icgraph.png" border="0" usemap="#adc/dfb/mos__synchronization__xe_8h_a4d2a7b34502e93b8634843b9fd07eac9_icgraph" alt=""/></div>
<map name="adc/dfb/mos__synchronization__xe_8h_a4d2a7b34502e93b8634843b9fd07eac9_icgraph" id="adc/dfb/mos__synchronization__xe_8h_a4d2a7b34502e93b8634843b9fd07eac9_icgraph">
<area shape="rect" title=" " alt="" coords="265,5,449,32"/>
<area shape="rect" href="../../db/dec/mos__synchronization__xe_8c.html#a8b4eacafe3849675d4f1109c5f8e0e46" title=" " alt="" coords="5,5,217,32"/>
</map>
</div>

</div>
</div>
<a id="a138d413c33a016c48367e08ac50e1bd3" name="a138d413c33a016c48367e08ac50e1bd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a138d413c33a016c48367e08ac50e1bd3">&#9670;&nbsp;</a></span>mos_sync_syncobj_handle_to_syncfile_fd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mos_sync_syncobj_handle_to_syncfile_fd </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>syncobj_handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Syncobj handle to sync file fd.</p>
<p >@fd indicates to the opened device; @syncobj_handle indicates to the syncobj handle;</p>
<dl class="section return"><dt>Returns</dt><dd>value indicates to sync file fd got from the syncobj handle;</dd></dl>
<p>Note: Caller must close the sync file fd after using to avoid leak. </p>

<p class="definition">Definition at line <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html#l00306">306</a> of file <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html">mos_synchronization_xe.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dfb/mos__synchronization__xe_8h_a138d413c33a016c48367e08ac50e1bd3_cgraph.png" border="0" usemap="#adc/dfb/mos__synchronization__xe_8h_a138d413c33a016c48367e08ac50e1bd3_cgraph" alt=""/></div>
<map name="adc/dfb/mos__synchronization__xe_8h_a138d413c33a016c48367e08ac50e1bd3_cgraph" id="adc/dfb/mos__synchronization__xe_8h_a138d413c33a016c48367e08ac50e1bd3_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,184,47"/>
<area shape="rect" href="../../d4/d9f/xf86drm__mock_8c.html#aba799e2473539a47ddb2c325962c544c" title=" " alt="" coords="232,13,300,39"/>
<area shape="rect" href="../../dc/dfc/xf86drm_8c.html#ac49c32891ff1d2f2a7cbb33d520d9658" title=" " alt="" coords="348,13,441,39"/>
</map>
</div>

</div>
</div>
<a id="a182421162e8e592b00edce68dd18544e" name="a182421162e8e592b00edce68dd18544e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a182421162e8e592b00edce68dd18544e">&#9670;&nbsp;</a></span>mos_sync_syncobj_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mos_sync_syncobj_reset </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>handles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Reset the syncobj to not signaled state.</p>
<p >Note: kmd will wait all syncobj in handles array to be signaled before reset them. So, there is no need to wait in umd normally. </p>

<p class="definition">Definition at line <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html#l00118">118</a> of file <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html">mos_synchronization_xe.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dfb/mos__synchronization__xe_8h_a182421162e8e592b00edce68dd18544e_cgraph.png" border="0" usemap="#adc/dfb/mos__synchronization__xe_8h_a182421162e8e592b00edce68dd18544e_cgraph" alt=""/></div>
<map name="adc/dfb/mos__synchronization__xe_8h_a182421162e8e592b00edce68dd18544e_cgraph" id="adc/dfb/mos__synchronization__xe_8h_a182421162e8e592b00edce68dd18544e_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,176,32"/>
<area shape="rect" href="../../d4/d9f/xf86drm__mock_8c.html#aba799e2473539a47ddb2c325962c544c" title=" " alt="" coords="224,5,292,32"/>
<area shape="rect" href="../../dc/dfc/xf86drm_8c.html#ac49c32891ff1d2f2a7cbb33d520d9658" title=" " alt="" coords="340,5,433,32"/>
</map>
</div>

</div>
</div>
<a id="a7159533b422505e96a2fcd5c4deb25cf" name="a7159533b422505e96a2fcd5c4deb25cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7159533b422505e96a2fcd5c4deb25cf">&#9670;&nbsp;</a></span>mos_sync_syncobj_timeline_to_binary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mos_sync_syncobj_timeline_to_binary </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>binary_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeline_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html#l00417">417</a> of file <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html">mos_synchronization_xe.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dfb/mos__synchronization__xe_8h_a7159533b422505e96a2fcd5c4deb25cf_cgraph.png" border="0" usemap="#adc/dfb/mos__synchronization__xe_8h_a7159533b422505e96a2fcd5c4deb25cf_cgraph" alt=""/></div>
<map name="adc/dfb/mos__synchronization__xe_8h_a7159533b422505e96a2fcd5c4deb25cf_cgraph" id="adc/dfb/mos__synchronization__xe_8h_a7159533b422505e96a2fcd5c4deb25cf_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,192,47"/>
<area shape="rect" href="../../db/dec/mos__synchronization__xe_8c.html#a03be61e56920800c1bb30737904ec707" title=" " alt="" coords="240,5,388,47"/>
<area shape="rect" href="../../d4/d9f/xf86drm__mock_8c.html#aba799e2473539a47ddb2c325962c544c" title=" " alt="" coords="436,13,504,39"/>
<area shape="rect" href="../../dc/dfc/xf86drm_8c.html#ac49c32891ff1d2f2a7cbb33d520d9658" title=" " alt="" coords="552,13,645,39"/>
</map>
</div>

</div>
</div>
<a id="a778db10ef4a81d51890460e636b2edd2" name="a778db10ef4a81d51890460e636b2edd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a778db10ef4a81d51890460e636b2edd2">&#9670;&nbsp;</a></span>mos_sync_syncobj_timeline_wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mos_sync_syncobj_timeline_wait </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>handles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>num_handles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>timeout_nsec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>first_signaled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Same as @mos_sync_syncobj_wait_err; Difference is that each syncobj needs to wait the timeline_value in points array. </p>

<p class="definition">Definition at line <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html#l00183">183</a> of file <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html">mos_synchronization_xe.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dfb/mos__synchronization__xe_8h_a778db10ef4a81d51890460e636b2edd2_cgraph.png" border="0" usemap="#adc/dfb/mos__synchronization__xe_8h_a778db10ef4a81d51890460e636b2edd2_cgraph" alt=""/></div>
<map name="adc/dfb/mos__synchronization__xe_8h_a778db10ef4a81d51890460e636b2edd2_cgraph" id="adc/dfb/mos__synchronization__xe_8h_a778db10ef4a81d51890460e636b2edd2_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,221,32"/>
<area shape="rect" href="../../d4/d9f/xf86drm__mock_8c.html#aba799e2473539a47ddb2c325962c544c" title=" " alt="" coords="269,5,337,32"/>
<area shape="rect" href="../../dc/dfc/xf86drm_8c.html#ac49c32891ff1d2f2a7cbb33d520d9658" title=" " alt="" coords="385,5,479,32"/>
</map>
</div>

</div>
</div>
<a id="ab2160aefd0aa60cc187d2b2d40620c1a" name="ab2160aefd0aa60cc187d2b2d40620c1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2160aefd0aa60cc187d2b2d40620c1a">&#9670;&nbsp;</a></span>mos_sync_syncobj_wait_err()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mos_sync_syncobj_wait_err </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>handles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>abs_timeout_nsec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>first_signaled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >@handles indicates to the syncobj array that wants to wait signaled. @abs_timeout_nsec indicates to the timeout: if abs_timeout_nsec = 0, the call will return immediately when any syncobj in the array is busy state. if abs_timeout_nsec &gt; 0, the call will wait the syncobj in the array to be signaled. @flags indicates to wait operation for the handles: if flags = DRM_SYNCOBJ_WAIT_FLAGS_WAIT_ALL, wait all syncobj to be signaled; @first_signaled indicates to first recored syncobj handle that is signaled in the handles array. Note: if return == -ETIME, wait timeout, it means busy state. </p>

<p class="definition">Definition at line <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html#l00088">88</a> of file <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html">mos_synchronization_xe.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dfb/mos__synchronization__xe_8h_ab2160aefd0aa60cc187d2b2d40620c1a_cgraph.png" border="0" usemap="#adc/dfb/mos__synchronization__xe_8h_ab2160aefd0aa60cc187d2b2d40620c1a_cgraph" alt=""/></div>
<map name="adc/dfb/mos__synchronization__xe_8h_ab2160aefd0aa60cc187d2b2d40620c1a_cgraph" id="adc/dfb/mos__synchronization__xe_8h_ab2160aefd0aa60cc187d2b2d40620c1a_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,192,32"/>
<area shape="rect" href="../../d4/d9f/xf86drm__mock_8c.html#aba799e2473539a47ddb2c325962c544c" title=" " alt="" coords="240,5,308,32"/>
<area shape="rect" href="../../dc/dfc/xf86drm_8c.html#ac49c32891ff1d2f2a7cbb33d520d9658" title=" " alt="" coords="356,5,449,32"/>
</map>
</div>

</div>
</div>
<a id="a6f2c87ac4471a3c27c8cb1d6bee085ae" name="a6f2c87ac4471a3c27c8cb1d6bee085ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f2c87ac4471a3c27c8cb1d6bee085ae">&#9670;&nbsp;</a></span>mos_sync_update_bo_deps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mos_sync_update_bo_deps </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>curr_engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d0f/structmos__xe__dep.html">mos_xe_dep</a> *&#160;</td>
          <td class="paramname"><em>dep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; uint32_t, struct <a class="el" href="../../d5/d96/structmos__xe__bo__dep.html">mos_xe_bo_dep</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>read_deps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; uint32_t, struct <a class="el" href="../../d5/d96/structmos__xe__bo__dep.html">mos_xe_bo_dep</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>write_deps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Update read and write deps of bo with given dep.</p>
<p >@curr_engine indicates to current exec dummy engine id; @flags indicates to operation flags(read or write) for current exec; @dep indicates to the fence out dep that needs to update into the deps map; @read_deps indicates to read deps on previous exec; @write_deps indicates to write deps on previous exec; </p>

<p class="definition">Definition at line <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html#l00621">621</a> of file <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html">mos_synchronization_xe.c</a>.</p>

</div>
</div>
<a id="a50e911ed6d5366a502bce56fd06d9da2" name="a50e911ed6d5366a502bce56fd06d9da2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50e911ed6d5366a502bce56fd06d9da2">&#9670;&nbsp;</a></span>mos_sync_update_exec_syncs_from_handle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mos_sync_update_exec_syncs_from_handle </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bo_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; struct <a class="el" href="../../d3/dc2/structdrm__xe__sync.html">drm_xe_sync</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>syncs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>out_prime_fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Add the dep from dma buffer of external bo into exec syncs array.</p>
<p >@fd indicates to opened device; @bo_handle indicates to external bo handle; @flags indicates to operation flags(read or write) for current exec; @syncs indicates to exec syncs array for current exec. Exported syncobj handle from external bo is used as fence in. @out_prime_fd indicates to the prime_fd export from external bo handle; umd must close the prime fd after using to avoid leak.</p>
<p >Note: Caller must close this exported syncobj handle after using to avoid leak. </p>

<p class="definition">Definition at line <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html#l00565">565</a> of file <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html">mos_synchronization_xe.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dfb/mos__synchronization__xe_8h_a50e911ed6d5366a502bce56fd06d9da2_cgraph.png" border="0" usemap="#adc/dfb/mos__synchronization__xe_8h_a50e911ed6d5366a502bce56fd06d9da2_cgraph" alt=""/></div>
<map name="adc/dfb/mos__synchronization__xe_8h_a50e911ed6d5366a502bce56fd06d9da2_cgraph" id="adc/dfb/mos__synchronization__xe_8h_a50e911ed6d5366a502bce56fd06d9da2_cgraph">
<area shape="rect" title=" " alt="" coords="5,53,168,94"/>
<area shape="rect" href="../../db/dec/mos__synchronization__xe_8c.html#a8a4e231c062845c325c8877c9a6aca73" title=" " alt="" coords="216,53,395,94"/>
<area shape="rect" href="../../d4/d9f/xf86drm__mock_8c.html#a41984eac88d9fed9e980faded101c029" title=" " alt="" coords="443,5,593,32"/>
<area shape="rect" href="../../db/dec/mos__synchronization__xe_8c.html#aee73b3831ca329d347542a0cf23b1e99" title=" " alt="" coords="643,53,817,94"/>
<area shape="rect" href="../../db/dec/mos__synchronization__xe_8c.html#a452fe866609a3d0d6ab86b26b6ce50d6" title=" " alt="" coords="443,111,593,153"/>
<area shape="rect" href="../../d4/d9f/xf86drm__mock_8c.html#aba799e2473539a47ddb2c325962c544c" title=" " alt="" coords="867,89,935,116"/>
<area shape="rect" href="../../d4/d9f/xf86drm__mock_8c.html#acbc4e23184b8da742374ee44ca07ec10" title=" " alt="" coords="983,89,1076,116"/>
<area shape="rect" href="../../db/dec/mos__synchronization__xe_8c.html#aeeed781dd7be3df4bd02270772bc5add" title=" " alt="" coords="641,169,819,196"/>
</map>
</div>

</div>
</div>
<a id="af8bbcb195b7fa5d53a88250d3bed5145" name="af8bbcb195b7fa5d53a88250d3bed5145"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8bbcb195b7fa5d53a88250d3bed5145">&#9670;&nbsp;</a></span>mos_sync_update_exec_syncs_from_timeline_dep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mos_sync_update_exec_syncs_from_timeline_dep </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d0f/structmos__xe__dep.html">mos_xe_dep</a> *&#160;</td>
          <td class="paramname"><em>dep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; struct <a class="el" href="../../d3/dc2/structdrm__xe__sync.html">drm_xe_sync</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>syncs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Add the timeline dep from its context into exec syncs array for fence out.</p>
<p >@fd indicates to opened device; @dep indicates to a timeline dep in its context for fence out on current submission. @syncs indicates to exec syncs array for current exec; timeline dep from queue is used as fence out. </p>

<p class="definition">Definition at line <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html#l00595">595</a> of file <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html">mos_synchronization_xe.c</a>.</p>

</div>
</div>
<a id="aca6973eef347f11f508f6beb51ddb555" name="aca6973eef347f11f508f6beb51ddb555"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca6973eef347f11f508f6beb51ddb555">&#9670;&nbsp;</a></span>mos_sync_update_exec_syncs_from_timeline_deps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mos_sync_update_exec_syncs_from_timeline_deps </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>curr_engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>lst_write_engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>engine_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; uint32_t, struct <a class="el" href="../../d5/d96/structmos__xe__bo__dep.html">mos_xe_bo_dep</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>read_deps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; uint32_t, struct <a class="el" href="../../d5/d96/structmos__xe__bo__dep.html">mos_xe_bo_dep</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>write_deps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d3/dc2/structdrm__xe__sync.html">drm_xe_sync</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>syncs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Add the timeline dep from read and write dep map into exec syncs array.</p>
<p >@curr_engine indicates to current exec engine id; @lst_write_engine indicates to last exec engine id for writing; @flags indicates to operation flags(read or write) for current exec; @engine_ids indicates to valid engine IDs; @read_deps indicates to read deps on previous exec; @write_deps indicates to write deps on previous exec; @syncs indicates to exec syncs array for current exec.</p>
<p >Note: all deps from bo dep map are used as fence in, in this case, we should never set DRM_XE_SYNC_FLAG_SIGNAL for sync, otherwise kmd will not wait this sync.</p>
<dl class="section return"><dt>Returns</dt><dd>indicates to update status. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html#l00503">503</a> of file <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html">mos_synchronization_xe.c</a>.</p>

</div>
</div>
<a id="a60703c42688a34aa57d0926453e38532" name="a60703c42688a34aa57d0926453e38532"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60703c42688a34aa57d0926453e38532">&#9670;&nbsp;</a></span>mos_sync_update_timeline_dep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mos_sync_update_timeline_dep </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d0f/structmos__xe__dep.html">mos_xe_dep</a> *&#160;</td>
          <td class="paramname"><em>dep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Update the timeline dep to the queue by timeline index++.</p>
<p >@deps indicates to the timeline dep from ctx busy queue. </p>

<p class="definition">Definition at line <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html#l00462">462</a> of file <a class="el" href="../../db/dec/mos__synchronization__xe_8c_source.html">mos_synchronization_xe.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
