<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>media driver document: prelim_drm_i915_context_engines_parallel2_submit Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">media driver document
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structprelim__drm__i915__context__engines__parallel2__submit-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">prelim_drm_i915_context_engines_parallel2_submit Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="i915__drm__prelim_8h_source.html">i915_drm_prelim.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a922947be9743a90be07796639edf5577"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structi915__user__extension.html">i915_user_extension</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structprelim__drm__i915__context__engines__parallel2__submit.html#a922947be9743a90be07796639edf5577">base</a></td></tr>
<tr class="separator:a922947be9743a90be07796639edf5577"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e279af5c43c7f1946973940c5c47b94"><td class="memItemLeft" align="right" valign="top"><a class="el" href="drm_8h.html#abc70358187152575fd05fbf6d253151f">__u16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structprelim__drm__i915__context__engines__parallel2__submit.html#a0e279af5c43c7f1946973940c5c47b94">engine_index</a></td></tr>
<tr class="separator:a0e279af5c43c7f1946973940c5c47b94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace3ce7958af83937ef40cd39287d256e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="drm_8h.html#abc70358187152575fd05fbf6d253151f">__u16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structprelim__drm__i915__context__engines__parallel2__submit.html#ace3ce7958af83937ef40cd39287d256e">width</a></td></tr>
<tr class="separator:ace3ce7958af83937ef40cd39287d256e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27271e2c0adbb58b2bbc49bf7d94c505"><td class="memItemLeft" align="right" valign="top"><a class="el" href="drm_8h.html#abc70358187152575fd05fbf6d253151f">__u16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structprelim__drm__i915__context__engines__parallel2__submit.html#a27271e2c0adbb58b2bbc49bf7d94c505">num_siblings</a></td></tr>
<tr class="separator:a27271e2c0adbb58b2bbc49bf7d94c505"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a089b5086b2729573af42a844bbd62bf2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="drm_8h.html#abc70358187152575fd05fbf6d253151f">__u16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structprelim__drm__i915__context__engines__parallel2__submit.html#a089b5086b2729573af42a844bbd62bf2">mbz16</a></td></tr>
<tr class="separator:a089b5086b2729573af42a844bbd62bf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e50edf82c12158c88466ee4e9983323"><td class="memItemLeft" align="right" valign="top"><a class="el" href="drm_8h.html#ac2a2bfb32105ffe8e74b67670b7ec440">__u64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structprelim__drm__i915__context__engines__parallel2__submit.html#a9e50edf82c12158c88466ee4e9983323">flags</a></td></tr>
<tr class="separator:a9e50edf82c12158c88466ee4e9983323"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b613a1aa963b3aab13772f3374dbc5c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="drm_8h.html#ac2a2bfb32105ffe8e74b67670b7ec440">__u64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structprelim__drm__i915__context__engines__parallel2__submit.html#a4b613a1aa963b3aab13772f3374dbc5c">mbz64</a> [3]</td></tr>
<tr class="separator:a4b613a1aa963b3aab13772f3374dbc5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f33f011574840f8c86c442500b8bf85"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structi915__engine__class__instance.html">i915_engine_class_instance</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structprelim__drm__i915__context__engines__parallel2__submit.html#a7f33f011574840f8c86c442500b8bf85">engines</a> [0]</td></tr>
<tr class="separator:a7f33f011574840f8c86c442500b8bf85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >struct <a class="el" href="structprelim__drm__i915__context__engines__parallel2__submit.html">prelim_drm_i915_context_engines_parallel2_submit</a> - Configure engine for parallel submission.</p>
<p >Setup a slot in the context engine map to allow multiple BBs to be submitted in a single execbuf IOCTL. Those BBs will then be scheduled to run on the GPU in parallel. Multiple hardware contexts are created internally in the i915 run these BBs. Once a slot is configured for N BBs only N BBs can be submitted in each execbuf IOCTL and this is implicit behavior e.g. The user doesn't tell the execbuf IOCTL there are N BBs, the execbuf IOCTL knows how many BBs there are based on the slot's configuration. The N BBs are the last N buffer objects or first N if I915_EXEC_BATCH_FIRST is set.</p>
<p >The default placement behavior is to create implicit bonds between each context if each context maps to more than 1 physical engine (e.g. context is a virtual engine). Also we only allow contexts of same engine class and these contexts must be in logically contiguous order. Examples of the placement behavior described below. Lastly, the default is to not allow BBs to preempted mid BB rather insert coordinated preemption on all hardware contexts between each set of BBs. Flags may be added in the future to change both of these default behaviors.</p>
<p >Returns -EINVAL if hardware context placement configuration is invalid or if the placement configuration isn't supported on the platform / submission interface. Returns -ENODEV if extension isn't supported on the platform / submission inteface.</p>
<p >.. code-block::</p>
<p >Example 1 pseudo code: CS[X] = generic engine of same class, logical instance X INVALID = I915_ENGINE_CLASS_INVALID, I915_ENGINE_CLASS_INVALID_NONE set_engines(INVALID) set_parallel(engine_index=0, width=2, num_siblings=1, engines=CS[0],CS[1])</p>
<p >Results in the following valid placement: CS[0], CS[1]</p>
<p >Example 2 pseudo code: CS[X] = generic engine of same class, logical instance X INVALID = I915_ENGINE_CLASS_INVALID, I915_ENGINE_CLASS_INVALID_NONE set_engines(INVALID) set_parallel(engine_index=0, width=2, num_siblings=2, engines=CS[0],CS[2],CS[1],CS[3])</p>
<p >Results in the following valid placements: CS[0], CS[1] CS[2], CS[3]</p>
<p >This can also be thought of as 2 virtual engines described by 2-D array in the engines the field with bonds placed between each index of the virtual engines. e.g. CS[0] is bonded to CS[1], CS[2] is bonded to CS[3]. VE[0] = CS[0], CS[2] VE[1] = CS[1], CS[3]</p>
<p >Example 3 pseudo code: CS[X] = generic engine of same class, logical instance X INVALID = I915_ENGINE_CLASS_INVALID, I915_ENGINE_CLASS_INVALID_NONE set_engines(INVALID) set_parallel(engine_index=0, width=2, num_siblings=2, engines=CS[0],CS[1],CS[1],CS[3])</p>
<p >Results in the following valid and invalid placements: CS[0], CS[1] CS[1], CS[3] - Not logical contiguous, return -EINVAL </p>

<p class="definition">Definition at line <a class="el" href="i915__drm__prelim_8h_source.html#l00828">828</a> of file <a class="el" href="i915__drm__prelim_8h_source.html">i915_drm_prelim.h</a>.</p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="a922947be9743a90be07796639edf5577" name="a922947be9743a90be07796639edf5577"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a922947be9743a90be07796639edf5577">&#9670;&nbsp;</a></span>base</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structi915__user__extension.html">i915_user_extension</a> prelim_drm_i915_context_engines_parallel2_submit::base</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >@base: base user extension. </p>

<p class="definition">Definition at line <a class="el" href="i915__drm__prelim_8h_source.html#l00832">832</a> of file <a class="el" href="i915__drm__prelim_8h_source.html">i915_drm_prelim.h</a>.</p>

</div>
</div>
<a id="a0e279af5c43c7f1946973940c5c47b94" name="a0e279af5c43c7f1946973940c5c47b94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e279af5c43c7f1946973940c5c47b94">&#9670;&nbsp;</a></span>engine_index</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="drm_8h.html#abc70358187152575fd05fbf6d253151f">__u16</a> prelim_drm_i915_context_engines_parallel2_submit::engine_index</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >@engine_index: slot for parallel engine </p>

<p class="definition">Definition at line <a class="el" href="i915__drm__prelim_8h_source.html#l00837">837</a> of file <a class="el" href="i915__drm__prelim_8h_source.html">i915_drm_prelim.h</a>.</p>

</div>
</div>
<a id="a7f33f011574840f8c86c442500b8bf85" name="a7f33f011574840f8c86c442500b8bf85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f33f011574840f8c86c442500b8bf85">&#9670;&nbsp;</a></span>engines</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structi915__engine__class__instance.html">i915_engine_class_instance</a> prelim_drm_i915_context_engines_parallel2_submit::engines[0]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >@engines: 2-d array of engine instances to configure parallel engine</p>
<p >length = width (i) * num_siblings (j) index = j + i * num_siblings </p>

<p class="definition">Definition at line <a class="el" href="i915__drm__prelim_8h_source.html#l00870">870</a> of file <a class="el" href="i915__drm__prelim_8h_source.html">i915_drm_prelim.h</a>.</p>

</div>
</div>
<a id="a9e50edf82c12158c88466ee4e9983323" name="a9e50edf82c12158c88466ee4e9983323"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e50edf82c12158c88466ee4e9983323">&#9670;&nbsp;</a></span>flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="drm_8h.html#ac2a2bfb32105ffe8e74b67670b7ec440">__u64</a> prelim_drm_i915_context_engines_parallel2_submit::flags</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >@flags: all undefined flags must be zero, currently not defined flags </p>

<p class="definition">Definition at line <a class="el" href="i915__drm__prelim_8h_source.html#l00857">857</a> of file <a class="el" href="i915__drm__prelim_8h_source.html">i915_drm_prelim.h</a>.</p>

</div>
</div>
<a id="a089b5086b2729573af42a844bbd62bf2" name="a089b5086b2729573af42a844bbd62bf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a089b5086b2729573af42a844bbd62bf2">&#9670;&nbsp;</a></span>mbz16</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="drm_8h.html#abc70358187152575fd05fbf6d253151f">__u16</a> prelim_drm_i915_context_engines_parallel2_submit::mbz16</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >@mbz16: reserved for future use; must be zero </p>

<p class="definition">Definition at line <a class="el" href="i915__drm__prelim_8h_source.html#l00852">852</a> of file <a class="el" href="i915__drm__prelim_8h_source.html">i915_drm_prelim.h</a>.</p>

</div>
</div>
<a id="a4b613a1aa963b3aab13772f3374dbc5c" name="a4b613a1aa963b3aab13772f3374dbc5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b613a1aa963b3aab13772f3374dbc5c">&#9670;&nbsp;</a></span>mbz64</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="drm_8h.html#ac2a2bfb32105ffe8e74b67670b7ec440">__u64</a> prelim_drm_i915_context_engines_parallel2_submit::mbz64[3]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >@mbz64: reserved for future use; must be zero </p>

<p class="definition">Definition at line <a class="el" href="i915__drm__prelim_8h_source.html#l00862">862</a> of file <a class="el" href="i915__drm__prelim_8h_source.html">i915_drm_prelim.h</a>.</p>

</div>
</div>
<a id="a27271e2c0adbb58b2bbc49bf7d94c505" name="a27271e2c0adbb58b2bbc49bf7d94c505"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27271e2c0adbb58b2bbc49bf7d94c505">&#9670;&nbsp;</a></span>num_siblings</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="drm_8h.html#abc70358187152575fd05fbf6d253151f">__u16</a> prelim_drm_i915_context_engines_parallel2_submit::num_siblings</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >@num_siblings: number of siblings per context </p>

<p class="definition">Definition at line <a class="el" href="i915__drm__prelim_8h_source.html#l00847">847</a> of file <a class="el" href="i915__drm__prelim_8h_source.html">i915_drm_prelim.h</a>.</p>

</div>
</div>
<a id="ace3ce7958af83937ef40cd39287d256e" name="ace3ce7958af83937ef40cd39287d256e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace3ce7958af83937ef40cd39287d256e">&#9670;&nbsp;</a></span>width</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="drm_8h.html#abc70358187152575fd05fbf6d253151f">__u16</a> prelim_drm_i915_context_engines_parallel2_submit::width</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >@width: number of contexts per parallel engine </p>

<p class="definition">Definition at line <a class="el" href="i915__drm__prelim_8h_source.html#l00842">842</a> of file <a class="el" href="i915__drm__prelim_8h_source.html">i915_drm_prelim.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>C:/Users/xiaoganx/temp/media-driver/media_driver/linux/common/os/i915_production/include/<a class="el" href="i915__drm__prelim_8h_source.html">i915_drm_prelim.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
